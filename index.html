<!DOCTYPE html>
<html lang="fa">
<head>
    <meta charset="UTF-8">
    <title>Ù…Ø±Ø¯ ÙˆØ§Ù‚Ø¹ÛŒ ÛŒØ§ ØªØ³Ù„Ø§ØŸ ğŸ˜</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container">
    <h1>Ú©Ø¯ÙˆÙ…Ùˆ Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØŸ</h1>
    <p>Ø¨ÛŒ Ø§Ù… ÙˆÙ‡ ÛŒØ§ ØªØ³Ù„Ø§ØŸ ğŸ˜</p>

    <div class="choices">
        <img src="bmw.jpg" alt="BMW" id="bmw" onclick="choose('bmw')">
        <img src="tesla.jpg" alt="Tesla" id="tesla" onclick="choose('tesla')">
    </div>

    <p id="result"></p>
</div>

<script>
let firstChoice = null; // Ø°Ø®ÛŒØ±Ù‡ Ø§ÙˆÙ„ÛŒÙ† Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±
let intervalId = null;  // Ø¨Ø±Ø§ÛŒ Ú¯Ø±Ø§Ø¯ÛŒØ§Ù† Ù…ØªØ­Ø±Ú© BMW

function choose(car) {
    const body = document.body;
    const result = document.getElementById('result');

    if(firstChoice === null) {
        // Ø§ÙˆÙ„ÛŒÙ† Ø§Ù†ØªØ®Ø§Ø¨
        firstChoice = car;

        if(car === 'bmw') {
            result.innerText = "ğŸ‰ ØªØ¨Ø±ÛŒÚ©! Ø´Ù…Ø§ ÛŒÚ© Ù…Ø±Ø¯ ÙˆØ§Ù‚Ø¹ÛŒ Ù‡Ø³ØªÛŒØ¯!";
            startBMWBackground();
        } else if(car === 'tesla') {
            result.innerText = "ğŸ˜ Ù…ÛŒØ¯ÙˆÙ†Ø³ØªÙ…...";
            stopBMWBackground();
            body.style.background = "url('pride.jpg') no-repeat center center/cover";
        }
        return;
    }

    // Ø§Ú¯Ø± Ú©Ø§Ø±Ø¨Ø± Ø¨Ø®ÙˆØ§Ø¯ Ø§Ù†ØªØ®Ø§Ø¨ Ø¯ÙˆÙ… Ø±Ùˆ Ø¨Ø²Ù†Ù‡
    if(firstChoice === 'bmw' && car === 'tesla') {
        result.innerText = "ğŸ˜… Ø§ÛŒÙ† Ú©Ø§Ø± ÛŒÚ© Ù…Ø±Ø¯ ÙˆØ§Ù‚Ø¹ÛŒ Ù†ÛŒØ³Øª!";
    } else if(firstChoice === 'tesla' && car === 'bmw') {
        result.innerText = "ğŸ˜ Ø¯ÛŒÚ¯Ù‡ Ù„Ùˆ Ø±ÙØªÛŒ!";
    }
}

// ØªÙˆØ§Ø¨Ø¹ Ú¯Ø±Ø§Ø¯ÛŒØ§Ù† Ù…ØªØ­Ø±Ú© BMW
function startBMWBackground() {
    const body = document.body;
    let hue = 0;

    stopBMWBackground(); // Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø§Ø² Ø§ÛŒÙ†Ú©Ù‡ Ú†Ù†Ø¯ Ø¨Ø§Ø± Ø´Ø±ÙˆØ¹ Ù†Ø´Ù‡

    intervalId = setInterval(() => {
        hue = (hue + 1) % 360;
        body.style.background = `linear-gradient(135deg, hsl(${hue}, 70%, 50%), hsl(${(hue+60)%360}, 70%, 50%))`;
    }, 30);
}

function stopBMWBackground() {
    if(intervalId) {
        clearInterval(intervalId);
        intervalId = null;
    }
}
</script>

</body>
</html>
